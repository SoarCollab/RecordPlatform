### Multi-chain configuration
blockchain:
  # 激活的链类型: local-fisco, bsn-fisco, bsn-besu
  active: ${BLOCKCHAIN_ACTIVE:local-fisco}

  # BSN FISCO BCOS 配置 (blockchain.active=bsn-fisco 时生效)
  bsn-fisco:
    node-id: ${BSN_NODE_ID:city-node-shanghai}
    group-id: group0
    cert-path: ${BSN_CERT_PATH:bsn-certs}
    peers:
      - ${BSN_FISCO_PEER:bsn-fisco.example.com:20200}
    app:
      id: ${BSN_APP_ID:}
      secret: ${BSN_APP_SECRET:}
    contracts:
      storage: ${BSN_CONTRACT_STORAGE:}
      sharing: ${BSN_CONTRACT_SHARING:}

  # BSN Hyperledger Besu 配置 (blockchain.active=bsn-besu 时生效)
  bsn-besu:
    rpc-url: ${BSN_BESU_RPC_URL:}
    chain-id: ${BSN_BESU_CHAIN_ID:}
    wallet:
      type: local
      private-key: ${BSN_BESU_PRIVATE_KEY:}
    contracts:
      storage: ${BSN_BESU_CONTRACT_STORAGE:}
      sharing: ${BSN_BESU_CONTRACT_SHARING:}
    gas:
      gas-price: 0
      gas-limit: 4500000

### Java sdk configuration (Local FISCO BCOS)
bcos:
  cryptoMaterial:
    certPath: ${FISCO_CERT_PATH:conf}
  network:
    peers[0]: ${FISCO_PEER_ADDRESS:127.0.0.1:20200}

### System configuration
system:
  groupId: ${FISCO_GROUP_ID:group0}
  hexPrivateKey: ${FISCO_PRIVATE_KEY:}

### Contract configuration
contract:
  sharingAddress: ${FISCO_SHARING_CONTRACT:}
  storageAddress: ${FISCO_STORAGE_CONTRACT:}

### Springboot configuration
spring:
  application:
    name: platform-fisco
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
  main:
    allow-bean-definition-overriding: true
  output:
    ansi:
      enabled: ALWAYS

## dubbo config
dubbo:
  application:
    name: RecordPlatform_fisco
    logger: slf4j
    protocol: tri
    qos-port: ${QOS_FISCO_PORT:22331} # 使用 23333 端口
    qos-enable: on # 启用 QoS 功能
    qos-accept-foreign-ip: false # 只允许本机访问
    check-serializable: false
    serialize-check-status: DISABLE
  provider:
    timeout: 60000 # 全局提供者超时设置为 60000ms (60秒)
  protocol:
    name: tri # 使用 Triple 协议
    port: ${DUBBO_FISCO_PORT:8091}
    host: ${DUBBO_HOST:192.168.5.100}
  registry:
    register-mode: instance
    address: nacos://${NACOS_HOST:localhost}:${NACOS_PORT:8848}?username=${NACOS_USERNAME:}&password=${NACOS_PASSWORD:}

logging:
  level:
    root: INFO
    org:
      fisco: DEBUG
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr([%thread]){magenta} %clr(%-5level) %clr(%logger{50}){cyan} - %msg%n"
